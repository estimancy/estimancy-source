<h2>Event types</h2>

<table class="table table-striped">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Icon url</th>
    <th>Status</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @event_types.each do |event_type| %>
  <tr>
    <td><%= event_type.name %></td>
    <td><%= event_type.description %></td>
    <td><%= event_type.icon_url %></td>
    <td><%= event_type.record_status.name unless event_type.record_status.nil? %>  <%= event_type.show_custom_value %></td>
    <td><%= link_to 'Show', event_type %></td>
    <td><%= link_to 'Edit', edit_event_type_path(event_type) %></td>
    <td><%= link_to 'Destroy', event_type, confirm: 'Are you sure?', method: :delete %></td>
    <td>
      <% if is_master_instance? && !event_type.is_local_record? %>
          <% if event_type.is_retired? %>
              <%= link_to('Restore', "event_types/#{event_type.id}/restore_change", confirm: 'Do you confirm restoring this record as defined ?', :title => "restore changes")%>
          <% else %>
              <% unless event_type.is_defined? %>
                  <%= link_to('Validate', "event_types/#{event_type.id}/validate_change", confirm: 'Do you confirm changes validation on this record?', :title => "validate changes")%>
              <% end %>
          <% end %>
      <% end %>
    </td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Event type', new_event_type_path, :class => "btn" %>
