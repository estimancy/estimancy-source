<div class="tabs">
  <ul>
    <li><a href="#tabs-1"><%= I18n.t(:factors) %></a></li>
  </ul>

  <div id="tabs-1">
    <table border="0" width="100%">
      <tr>
        <td style="text-align:right;">
          <%= link_to I18n.t('new_factor'), new_factor_path, :class => 'btn' %>
        </td>
      </tr>
    </table>

    <table id="table_list_1" class="table tablesorterPager table-striped table-bordered table-condensed">
      <thead>
      <tr>
        <th><%= I18n.t(:name) %></th>
        <th><%= I18n.t(:local) %></th>
        <th>Type</th>
        <th class="filter-select"><%= I18n.t(:record_status) %></th>
        <th class="action"><%= I18n.t(:actions) %></th>
      </tr>
      </thead>
      <tbody>
      <% @factors.each do |factor| %>
        <tr>
          <td><%= factor.name %></td>
          <td><%= factor.alias %></td>
          <td><%= factor.factor_type.nil? ? '' : factor.factor_type.humanize %></td>
          <td><%= factor.description %></td>
          <td><%= factor.state %></td>
          <td><%= factor.record_status.name unless factor.record_status.nil? %> <%= factor.show_custom_value %></td>
          <td>
            <%= link_to '', edit_factor_path(factor), :class => 'icon-pencil icon-large icon-border pull-left', :title => I18n.t('edit') %>
            <%= link_to '', factor, confirm: I18n.t('are_you_sur'), method: :delete, :class => 'icon-remove icon-large icon-border pull-left', :style => 'color:red', :title => I18n.t('delete') %>
            <% if is_master_instance? && !factor.is_local_record? %>
              <% if factor.is_retired? %>
                <%= link_to('', "factors/#{factor.id}/restore_change", confirm: I18n.t('restoring'), :class => 'icon-undo icon-large icon-border pull-left', :style => 'color:orange', :title => I18n.t('restore_title')) %>
              <% else %>
                <% unless factor.is_defined? %>
                  <%= link_to('', "factors/#{factor.id}/validate_change", confirm: I18n.t('validation'), :class => 'icon-ok icon-large icon-border pull-left', :style => 'color:green', :title => I18n.t('validate_title')) %>
                <% end %>
              <% end %>
            <% end %>
          </td>
        </tr>
      <% end %>
      </tbody>

      <%= render :partial => 'layouts/footer_table' %>
    </table>

  </div>
</div>