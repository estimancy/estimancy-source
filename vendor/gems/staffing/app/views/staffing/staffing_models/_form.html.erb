<div class="tabs">
  <ul>
    <li>
      <a href="#tabs-1">
        Modèle d'Équipe
      </a>
    </li>
  </ul>

  <div id="tabs-1">
    <%= simple_form_for(@staffing_model) do |f| %>
      <div class="alert alert-info">
        Le module d'équipe permet de calculer la durée et la taille des équipes du projet. Nous proposons 2 méthodes: <br>
        <b>
            - Approche linéaire (trapèze) <br>
            - Courbe de Rayleigh <br>
        </b>
        <br>
        Si nous ne disposons pas de la durée, nous proposons de la calculer à l'aide de la formule de McDonnell: <br>
        Durée = <b>coef. * K^n</b>   <br>
        Par défaut on a : <b>K</b> = effort (semaines/homme) ; <b>coef</b> = 6 et <b>n</b> = 1/3
        <br>
      </div>

      <% if @staffing_model.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@staffing_model.errors.count, "error") %> prohibited this staffing_model from being saved:</h2>

          <ul>
          <% @staffing_model.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-inputs">
        <%= f.input :organization_id, as: :hidden, input_html: { value: @organization.id } %>
        <%= f.input :name %>
        <%= f.input :description, :input_html => {:class => 'input-xxlarge', :rows => 5 } %>
        <%= f.input :mc_donell_coef, label: 'McDonell Coef' , input_html: { value: 6 } %>
        <%= f.input :puissance_n, label: "Puissance n", input_html: { value: 0.33 }, hint: "(1/3 = 0.33)" %>
        <div>
          <%= label_tag :trapeze_default_values, 'Définir les valeurs par défaut des paramètres suivants:' %>
          - <b>(x0, y0)</b> : un report de démarrage x0, et le staffing de démarrage y0 <br>
          - <b>x1</b> : à quel moment le max staffing sera atteint<br>
          - <b>x2 </b>: à quel moment le staffing va commencer à décroitre<br>
          - <b>(x3, y3)</b> : la date de fin et le staffing de fin.<br>

          <br>
          Pour simplifier ; nous définissons x0, x1, x2, x3 en <b>pourcentage</b> de la <b>durée D</b> du projet, et y0 et y3 en <b>pourcentage de M</b>, le staffing maximum, qui, lui, sera calculé en directe. <br>

          <div class="row-fluid">
            <div class="span3"><%= f.input :x0, label: "x0", input_html: { value: @staffing_model.x0 || 0 } %></div>
            <div class="span3"><%= f.input :y0, label: "y0", input_html: { value: 20 } %></div>
          </div>

          <div class="row-fluid">
            <div class="span3"> <%= f.input :x1, label: "x1", input_html: { value: 20 } %></div>
            <div class="span3"> <%= f.input :x2, label: "x2", input_html: { value: 80 } %></div>
          </div>


          <div class="row-fluid">
            <div class="span3"><%= f.input :x3, label: "x3", input_html: { value: 100 } %></div>
            <div class="span3"><%= f.input :y3, label: "y3", input_html: { value: 20 } %></div>
          </div>

        </div>

        <%= f.input :three_points_estimation, label: 'Estimation 3 points' %>
        <%= f.input :enabled_input %>
      </div>

      <div class="actions">
        <% if can? :manage_modules_instances, ModuleProject %>
            <%= f.button :submit, I18n.t('save') %>
        <% end %>
        <%= link_to I18n.t(:back), main_app.organization_module_estimation_path(@current_organization, anchor: "team"), class: "btn" %>
      </div>
    <% end %>

  </div>
</div>