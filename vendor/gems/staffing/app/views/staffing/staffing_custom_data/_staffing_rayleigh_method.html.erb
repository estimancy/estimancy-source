<div class="row-fluid">
  <div class="span12">
    <h4>
      <b>Sélectionner une contrainte</b>
    </h4>
  </div>
  <div class="row-fluid">
    <div class="span2"><%= f.input :staffing_constraint, as: :select, collection: [['Contrainte de staffing max', 'max_staffing_constraint'], ['Contrainte de durée', 'duration_constraint']], label: 'Contrainte imposée', include_blank: false, :input_html => { :class => 'input-medium'} %></div>
    <div class="span2"><%= f.input :max_staffing, label: "Max staffing", :input_html => { :class => 'input-medium'} %></div>
  </div>
</div>

<!-- Affichage de la courbe de Staffing avec Rayleigh -->
<div class="row-fluid">
  <div class="span12">
    <h4>
      <b>
        Graphiques
      </b>
    </h4>
    <div id="staffing_rayleigh_chart">
    </div>
  </div>
</div>

<script>
  $(function () {
    $('#staffing_rayleigh_chart').highcharts({
      chart: {
        type: 'column'
      },
      title: {
        text: 'Répartition des ressources en fonction du temps'
      },
      subtitle: {
        text: 'Méthode de Rayleigh'
      },
      xAxis: {
        min: 0,
        title: {
          text: 'Evolution du temps'
        }
      },
      yAxis: {
        min: 0,
        title: {
          text: 'Nombre de personne'
        }
      },
      plotOptions: {
        column: {
          pointPadding: 0.2,
          borderWidth: 0
        }
      },
      series: [{
        name: 'Staffing théorique',
        data: <%= @staffing_custom_data.chart_theoretical_coordinates.map{|i| i.last.round(1)} %>

      }]
    });
  });
</script>