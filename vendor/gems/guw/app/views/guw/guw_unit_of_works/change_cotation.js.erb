<% unless @guw_model.one_level_model == true %>
    $(".cotation_label_<%= @guw_unit_of_work.id %>").html("<%= j(select_tag "guw_complexity_#{@guw_unit_of_work.id}", options_for_select(@guw_unit_of_work.guw_type.guw_complexities.map{|i| [i.name, i.id] }, selected: nil), class: "input-small", prompt: "", readonly: !@guw_unit_of_work.guw_type.allow_complexity) %>")
<% end %>

<% if @guw_unit_of_work.guw_type.allow_quantity == true %>
  $(".quantity_label_<%= @guw_unit_of_work.id %>").html("<%= j(text_field_tag "quantity[#{@guw_unit_of_work.id}]", @guw_unit_of_work.quantity, class: "input-mini") %>")
<% else %>
  $(".quantity_label_<%= @guw_unit_of_work.id %>").html("")
<% end %>

<% results = Guw::GuwComplexityTechnology.where(guw_type_id: @guw_unit_of_work.guw_type_id).select{|ct| ct.coefficient != nil }.map{|i| i.organization_technology }.uniq %>

$(".technology_<%= @guw_unit_of_work.id %>").html("<%= j(select_tag "guw_technology[#{@guw_unit_of_work.id}]", options_for_select(results.map{|i| [i.name, i.id]},
                                                                selected: @guw_unit_of_work.organization_technology.nil? ? @guw_unit_of_work.guw_unit_of_work_group.organization_technology_id : @guw_unit_of_work.organization_technology_id),
               class: "guw_technology input-small",
               guw: @guw_unit_of_work.id,
               required: true,
               readonly: (!@guw_unit_of_work.guw_type.allow_complexity && !can?(:execute_estimation_plan, @project))) %>")

$(".ajusted_effort_<%= @guw_unit_of_work.id %>").html("<%= j(text_field_tag "ajusted_effort[#{@guw_unit_of_work.id}]", @guw_unit_of_work.ajusted_effort.nil? ? '' : @guw_unit_of_work.ajusted_effort.round(3), class: "input-mini retained-#{@guw_unit_of_work.guw_unit_of_work_group.id}", readonly: !((@guw_unit_of_work.guw_type.allow_retained == true) && can?(:execute_estimation_plan, @project))) %>")
